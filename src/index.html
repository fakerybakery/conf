<!DOCTYPE html>
<html>
<head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <title>HeavyHurdle</title>

    <script src='/socket.io/socket.io.js'></script>
    <script type="module" src='assets/js/rtc.js'></script>
    <script type="module" src='assets/js/events.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/7.3.0/adapter.min.js" integrity="sha256-2qQheewaqnZlXJ3RJRghVUwD/3fD9HNqxh4C+zvgmF4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js'></script>
    <script src="assets/js/jquery.js"></script> <!-- https://code.jquery.com/jquery-3.5.0.js -->
    <script src="assets/js/jquery-ui.js"></script> <!-- https://code.jquery.com/ui/1.12.1/jquery-ui.js -->
    <script src="assets/js/fabric.min.js"></script>
    <script src="assets/js/manager.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel='stylesheet' href='assets/css/app.css' type="text/css">
    <link rel='icon' href='assets/img/ico.png'>
</head>
<body style="overflow-x: hidden; background-color: #ffffff;" id="superParent">
    <!-- Screen Orientation -->
    <div id="majorResp">
        <br><br><br><b>Heavy</b>Hurdle <u>only works in landscape mode</u> due to resolution issues with the vertical mode.
    </div>
    
    <!-- Screen Recording Feature -->
    <div class="custom-modal hidden resp" id='recording-options-modal'>
        <div class="custom-modal-content">
            <div style="margin-bottom: 10px;">
                <span class="record-option" id='record-video' style="margin-right: 20%;">Record video</span>
                <span class="record-option" id='record-screen'>Record screen</span>
            </div>
            <button class="btn btn-outline-danger" id='closeModal'>Close</button>
        </div>
    </div>

    <!-- Header -->
    <nav class="navbar fixed-top bg-info rounded-0 d-print-none resp">
        <div class="text-white"><b>Heavy</b>Hurdle</div>
        <div class="pull-right room-comm" hidden>
            <button class="btn btn-sm rounded-0 btn-no-effect" style="padding: 0 !important; margin: 0 !important;" title="Hide Video">
                <i class="fa fa-video text-white user-toggler" id='toggle-video'></i>
            </button>
            <button class="btn btn-sm rounded-0 btn-no-effect" style="padding: 0 !important; margin: 0 !important;" title="Mute">
                <i class="fa fa-microphone-alt text-white user-toggler" id='toggle-mute'></i>
            </button>
            <button class="btn btn-sm rounded-0 btn-no-effect" style="padding: 0 !important; margin: 0 !important;" title="Hide Board">
                <i class="fa fa-chalkboard text-white user-toggler bg-primary" id='toggle-board'></i>
            </button>
            <button class="btn btn-sm text-white pull-right btn-no-effect" style="padding: 0 !important; margin: 0 !important;">
                <i class="fa fa-comment user-toggler" id='toggle-chat-pane'></i> <span class="badge badge-danger very-small font-weight-lighter" id='new-chat-notification' hidden>New</span>
            </button>
            <button class="btn btn-sm text-white pull-right btn-no-effect" style="padding: 0 !important; margin: 0 !important;">
                <i class="fa fa-expand text-white user-toggler" onclick="goFull();" id="expand-btn" title="Enter Fullscreen Mode"></i>
                <i class="fa fa-compress text-white user-toggler hidden" onclick="goFull();" id="compress-btn" title="Exit Fullscreen Mode"></i>
            </button>
            <button class="btn btn-sm rounded-0 btn-no-effect and-hide" style="padding: 0 !important; margin: 0 !important;" title="Share screen">
                <i class="fa fa-desktop text-white user-toggler" id='share-screen'></i>
            </button>
            <button class="btn btn-sm rounded-0 btn-no-effect" style="padding: 0 !important; margin: 0 !important;" title="Record">
                <i class="fa fa-dot-circle text-white user-toggler and-hide" id='record'></i>
            </button>
            <button class="btn btn-sm rounded-0 btn-no-effect text-white" style="padding: 0 !important; margin: 0 !important;">
                <a href="pages/end.html" class="text-white text-decoration-none"><i class="fa fa-sign-out-alt text-white user-toggler" style="background-color: rgb(255, 0, 0);" title="Leave"></i></a>
            </button>
        </div>
    </nav>

    <!-- Create Room -->
    <div class="container-fluid resp" id='room-create' style="margin-top: 50px;" hidden>
        <div class="row">
            <div class="col-12 h2 mt-5 text-center">New Conference</div>
        </div>
        <div class="row mt-2">
            <div class="col-12 col-md-4 offset-md-4 mb-3">
                <form class="form">
                    <div class="form-group text-center">
                        <span class="form-text small text-danger" id='err-msg'></span>
                    </div>
                    <div class="form-group">
                        <label for="room-name">Room Name</label>
                        <input type="text" id='room-name' class="form-control rounded-0" placeholder="Room Name">
                    </div>
                    <div class="form-group">
                        <label for="your-name">Your Name</label>
                        <input type="text" id='your-name' class="form-control rounded-0" placeholder="Your Name">
                    </div>
                    <div class="form-group">
                        <input type="submit" id="create-room" class="btn btn-block rounded-0 btn-info" value="Create Conference">
                    </div>
                </form>
            </div>
            <div class="col-12 col-md-4 offset-md-4 mb-3" id='room-created'></div>
        </div>
    </div>

    <!-- Join Room -->
    <div class="container-fluid resp" id='username-set' style="margin-top: 50px;" hidden>
        <div class="row">
            <div class="col-12 h4 mt-5 text-center">Your Name</div>
        </div>
        <div class="row mt-2">
            <div class="col-12 col-md-4 offset-md-4 mb-3">
                <form class="form">
                    <div class="form-group text-center">
                        <span class="form-text small text-danger" id='err-msg-username'></span>
                    </div>
                    <div class="form-group">
                        <label for="username">Your Name</label>
                        <input type="text" id='username' class="form-control rounded-0" placeholder="Your Name">
                    </div>
                    <div class="form-group">
                        <input type="submit" id="enter-room" class="btn btn-block rounded-0 btn-info" value="Enter Room">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <nav class="navbar fixed-bottom bg-info text-white hidden" id="globalFooter">
        <div><a href="#" target="_blank" class="text-white">Terms & Conditions</a> | <a href="#" target="_blank" class="text-white">Privacy Policy</a></div>
        <div class="text-right" style="cursor: pointer;">&copy; <span id="yearInsert"></span> HeavyHurdle.</div>
    </nav>

    <!-- In Conference  -->
    <div class="container-fluid room-comm resp" hidden>
        <div class="row">
            <video class="local-video mirror-mode" id='local' volume='0' autoplay muted></video>
        </div>

        <div class="row">
            <div class="col-md-12 main" id='main-section'>
                <div class="onBoard row mt-2 mb-2" id='videos'></div>
            </div>

            <!-- Chat Panel -->
            <div class="col-10 col-md-3 chat-col d-print-none mb-2 bg-info" id='chat-pane' hidden>
                <div class="row">
                    <div class="col-12 h2 text-center" style="padding-bottom: 10px; border-bottom: 1px solid white; margin: 0 0 10px 0;">CHAT</div>
                </div>
                <div id='chat-messages' class="col-12 h2"></div>
                <div class="row">
                    <textarea id='chat-input' class="rounded-0 chat-box" placeholder="Enter message here"></textarea>
                    <button class="btn btn-success" id='chat-sender'>Send</button>
                </div>
            </div>
        </div>

        <!-- Board -->
        <div id="board" class="resp">
            <canvas id="board-child" height="5000px" width="5000px"></canvas>
            <div id="board-controls">
                <button class="btn btn-warning"><i class="fa fa-search-plus"></i></button>
                <button class="btn btn-warning"><i class="fa fa-search-minus"></i></button>
                <div class="dropup">
                    <button class="btn btn-primary dropbtn"><i class="fa fa-pen"></i></button>
                    <div class="dropup-content">
                        <button class="btn btn-primary rounded-0" style="margin-top: 5px;"><i class="fa fa-square"></i></button>
                        <button class="btn btn-primary rounded-0"><i class="fa fa-circle"></i></button>
                        <button class="btn btn-primary rounded-0"><i class="fa fa-font"></i></button>
                        <button class="btn btn-primary rounded-0"><i class="fa fa-eraser"></i></button>
                    </div>
                </div>
                <button class="btn btn-info"><i class="fa fa-download"></i></button>
                <button class="btn btn-danger"><i class="fa fa-times"></i></button>
            </div>
        </div>
    </div>

    <div id="new-user-manager" class="resp">
        <!-- Auto-Generates When User Joins -->
    </div>

    <script src="assets/js/board.js"></script>
</body>
</html>